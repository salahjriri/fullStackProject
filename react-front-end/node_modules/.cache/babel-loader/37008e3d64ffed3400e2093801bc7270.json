{"ast":null,"code":"var _jsxFileName = \"F:\\\\spring-boot-security-jwt-react-postgresql\\\\react-front-end\\\\src\\\\components\\\\user.component.tsx\";\nimport * as React from 'react';\nimport { Constants } from '../constants/constants';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { UserService } from '../services/user.service';\nimport '../styles/user-component.style.css';\nimport { Util } from '../utils/Util';\nexport class UserComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authenticationService = void 0;\n    this.userService = void 0;\n\n    this.handleSetUserName = username => {\n      this.props.setUsername(username);\n    };\n\n    this.handleSetRoles = roles => {\n      this.props.setRoles(roles);\n    };\n\n    this.authenticationService = new AuthenticationService();\n    this.userService = new UserService();\n    this.state = {\n      userData: {\n        id: 0,\n        username: '',\n        email: '',\n        password: '',\n        roles: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    let loginResponse = Util.getParsedDataFromLocalStorage(Constants.LOCAL_STORAGE_USER_DATA);\n\n    if (loginResponse) {\n      this.userService.getUserDetails(loginResponse.id).then(response => {\n        const userData = response.data;\n\n        if (userData) {\n          this.setState({\n            userData: userData\n          }, () => {\n            this.handleSetUserName(userData.username);\n            this.handleSetRoles(userData.roles);\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      userData\n    } = this.state;\n    const isUserExists = userData.id !== 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-component-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user-admin-component-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"User Data\"), isUserExists && /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"property\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"User id: \"), userData.id), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"property\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, \"Username: \"), userData.username), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"property\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"Email: \"), userData.email), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"property\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"Roles:\"), userData.roles.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 24\n        }\n      }, value.name);\n    })));\n  }\n\n}","map":{"version":3,"sources":["F:/spring-boot-security-jwt-react-postgresql/react-front-end/src/components/user.component.tsx"],"names":["React","Constants","AuthenticationService","UserService","Util","UserComponent","Component","constructor","props","authenticationService","userService","handleSetUserName","username","setUsername","handleSetRoles","roles","setRoles","state","userData","id","email","password","componentDidMount","loginResponse","getParsedDataFromLocalStorage","LOCAL_STORAGE_USER_DATA","getUserDetails","then","response","data","setState","render","isUserExists","map","value","index","name"],"mappings":"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","sourcesContent":["import * as React from 'react'\r\nimport { Constants } from '../constants/constants'\r\nimport { LoginResponse } from '../models/login-response.model'\r\nimport { Role } from '../models/role.model'\r\nimport { UserData } from '../models/userdata.model'\r\nimport { AuthenticationService } from '../services/authentication.service'\r\nimport { UserService } from '../services/user.service'\r\nimport '../styles/user-component.style.css'\r\nimport { Util } from '../utils/Util'\r\n\r\nexport interface UserComponentProps {\r\n  history: any\r\n  setUsername: (username: string) => void\r\n  setRoles: (roles: Role[]) => void\r\n}\r\n\r\nexport interface UserComponentStates {\r\n  userData: UserData\r\n}\r\n\r\nexport class UserComponent\r\n  extends React.Component<UserComponentProps, UserComponentStates> {\r\n\r\n  authenticationService\r\n  userService\r\n\r\n  constructor(props: UserComponentProps) {\r\n    super(props)\r\n\r\n    this.authenticationService = new AuthenticationService()\r\n    this.userService = new UserService()\r\n\r\n    this.state = {\r\n      userData: {\r\n        id: 0,\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        roles: []\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    let loginResponse: LoginResponse = Util.getParsedDataFromLocalStorage(Constants.LOCAL_STORAGE_USER_DATA)\r\n    if (loginResponse) {\r\n      this.userService.getUserDetails(loginResponse.id).then(response => {\r\n        const userData: UserData = response.data\r\n        if (userData) {\r\n          this.setState(\r\n            {userData: userData},\r\n            () => {\r\n              this.handleSetUserName(userData.username)\r\n              this.handleSetRoles(userData.roles)\r\n            }\r\n          )\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSetUserName = (username: string): void => {\r\n    this.props.setUsername(username)\r\n  }\r\n\r\n  handleSetRoles = (roles: Role[]) => {\r\n    this.props.setRoles(roles)\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    const {userData} = this.state\r\n    const isUserExists: boolean = userData.id !== 0\r\n\r\n    return (\r\n      <div className=\"user-component-container\">\r\n        <span className=\"user-admin-component-header\">User Data</span>\r\n        {\r\n          isUserExists &&\r\n\r\n          <React.Fragment>\r\n            <span>\r\n            <span className=\"property\">User id: </span>{userData.id}\r\n            </span>\r\n            <span>\r\n            <span className=\"property\">Username: </span>{userData.username}\r\n            </span>\r\n            <span>\r\n            <span className=\"property\">Email: </span>{userData.email}\r\n            </span>\r\n            <span className=\"property\">Roles:</span>\r\n            {\r\n              userData.roles.map((value: Role, index: number) => {\r\n                return <li key={index}>{value.name}</li>\r\n              })\r\n            }\r\n          </React.Fragment>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}