{"ast":null,"code":"var _jsxFileName = \"F:\\\\spring-boot-security-jwt-react-postgresql\\\\react-front-end\\\\src\\\\components\\\\loginComponents\\\\container.component.tsx\";\nimport React from 'react';\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\nimport { Roles } from '../../constants/roles.enum';\nimport { Routes } from '../../constants/routes.enum';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { UserService } from '../../services/user.service';\nimport '../../styles/container-component.style.css';\nimport { Util } from '../../utils/Util';\nimport ListEmployeeComponent from '../employeeComponents/ListEmployeeComponent';\nimport { HomeComponent } from './home.component';\nimport { LoginComponent } from './login.component';\nimport { RegistrationComponent } from './registration.component';\nimport { UserComponent } from './user.component';\nexport class ContainerComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authenticationService = void 0;\n    this.userService = void 0;\n\n    this.logOut = () => {\n      this.authenticationService.logout();\n    };\n\n    this.refreshData = () => {\n      Util.refreshData(this.userService, this.setUsername, this.setRoles);\n    };\n\n    this.setUsername = username => {\n      this.setState({\n        currentUsername: username\n      });\n    };\n\n    this.setRoles = roles => {\n      if (roles && roles.length > 0) {\n        const roleNames = roles.map(role => role.name);\n        const isCurrentUserAdmin = roleNames.includes(Roles.ROLE_ADMIN.toString());\n\n        if (isCurrentUserAdmin) {\n          this.setState({\n            showAdminButton: true\n          });\n        }\n      } else if (this.state.showAdminButton) {\n        this.setState({\n          showAdminButton: false\n        });\n      }\n    };\n\n    this.authenticationService = new AuthenticationService();\n    this.userService = new UserService();\n    this.state = {\n      currentUsername: '',\n      showAdminButton: false\n    };\n  }\n\n  componentDidMount() {\n    this.refreshData();\n  }\n\n  render() {\n    const {\n      currentUsername,\n      showAdminButton\n    } = this.state;\n    const isCurrentUserExists = currentUsername !== undefined && currentUsername !== '';\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"menubar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: Routes.ROOT,\n      className: \"menu-item brand-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"BenBal\"), /*#__PURE__*/React.createElement(Link, {\n      to: Routes.HOME,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"Home\"), showAdminButton && /*#__PURE__*/React.createElement(Link, {\n      to: Routes.ADMIN,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Admin\"), isCurrentUserExists && /*#__PURE__*/React.createElement(Link, {\n      to: Routes.USER,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"User\")), isCurrentUserExists ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: Routes.USER,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, currentUsername), /*#__PURE__*/React.createElement(\"a\", {\n      href: Routes.LOGIN,\n      className: \"menu-item\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, \"LogOut\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: Routes.LOGIN,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n      to: Routes.REGISTER,\n      className: \"menu-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, \"Sign Up\"))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: [Routes.ROOT, Routes.HOME],\n      component: HomeComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: Routes.LOGIN,\n      component: LoginComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: Routes.REGISTER,\n      component: RegistrationComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: Routes.USER,\n      render: routerProps => /*#__PURE__*/React.createElement(UserComponent, {\n        history: [],\n        setUsername: this.setUsername,\n        setRoles: this.setRoles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: Routes.EMPLOYEE,\n      render: routerProps => /*#__PURE__*/React.createElement(ListEmployeeComponent, {\n        history: [],\n        employeeData: [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 12\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["F:/spring-boot-security-jwt-react-postgresql/react-front-end/src/components/loginComponents/container.component.tsx"],"names":["React","BrowserRouter","Router","Link","Route","Switch","Roles","Routes","AuthenticationService","UserService","Util","ListEmployeeComponent","HomeComponent","LoginComponent","RegistrationComponent","UserComponent","ContainerComponent","Component","constructor","props","authenticationService","userService","logOut","logout","refreshData","setUsername","setRoles","username","setState","currentUsername","roles","length","roleNames","map","role","name","isCurrentUserAdmin","includes","ROLE_ADMIN","toString","showAdminButton","state","componentDidMount","render","isCurrentUserExists","undefined","ROOT","HOME","ADMIN","USER","LOGIN","REGISTER","routerProps","EMPLOYEE"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom'\r\nimport { Roles } from '../../constants/roles.enum'\r\nimport { Routes } from '../../constants/routes.enum'\r\nimport { Role } from '../../models/role.model'\r\nimport { AuthenticationService } from '../../services/authentication.service'\r\nimport { UserService } from '../../services/user.service'\r\n\r\nimport '../../styles/container-component.style.css'\r\nimport { Util } from '../../utils/Util'\r\nimport ListEmployeeComponent from '../employeeComponents/ListEmployeeComponent'\r\n\r\nimport { HomeComponent } from './home.component'\r\nimport { LoginComponent } from './login.component'\r\nimport { RegistrationComponent } from './registration.component'\r\nimport { UserComponent } from './user.component'\r\n\r\nexport interface ContainerComponentProps {\r\n}\r\n\r\nexport interface ContainerComponentStates {\r\n  currentUsername: string,\r\n  showAdminButton: boolean\r\n}\r\n\r\nexport class ContainerComponent\r\n  extends React.Component <ContainerComponentProps, ContainerComponentStates> {\r\n\r\n  authenticationService\r\n  userService\r\n\r\n  constructor(props: ContainerComponentProps) {\r\n    super(props)\r\n    this.authenticationService = new AuthenticationService()\r\n    this.userService = new UserService()\r\n\r\n    this.state = {\r\n      currentUsername: '',\r\n      showAdminButton: false\r\n    }\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.refreshData()\r\n  }\r\n\r\n  logOut = () => {\r\n    this.authenticationService.logout()\r\n  }\r\n\r\n  refreshData = () => {\r\n    Util.refreshData(this.userService, this.setUsername, this.setRoles)\r\n  }\r\n\r\n  setUsername = (username: string) => {\r\n    this.setState({currentUsername: username})\r\n  }\r\n\r\n  setRoles = (roles: Role[]) => {\r\n    if (roles && roles.length > 0) {\r\n      const roleNames: string[] = roles.map((role: Role) => role.name)\r\n      const isCurrentUserAdmin: boolean =\r\n        roleNames.includes(Roles.ROLE_ADMIN.toString())\r\n      if (isCurrentUserAdmin) {\r\n        this.setState({showAdminButton: true})\r\n      }\r\n    } else if (this.state.showAdminButton) {\r\n      this.setState({showAdminButton: false})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currentUsername,\r\n      showAdminButton\r\n    } = this.state\r\n    const isCurrentUserExists: boolean = currentUsername !== undefined && currentUsername !== ''\r\n\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <nav className=\"menubar\">\r\n            <div className=\"menu-left\">\r\n              <Link\r\n                to={Routes.ROOT}\r\n                className=\"menu-item brand-link\"\r\n\r\n              >\r\n                BenBal\r\n              </Link>\r\n              <Link\r\n                to={Routes.HOME}\r\n                className=\"menu-item\"\r\n              >\r\n                Home\r\n              </Link>\r\n\r\n              {\r\n                showAdminButton &&\r\n\r\n                <Link\r\n                  to={Routes.ADMIN}\r\n                  className=\"menu-item\"\r\n                >\r\n                  Admin\r\n                </Link>\r\n              }\r\n\r\n              {\r\n                isCurrentUserExists &&\r\n\r\n                <Link\r\n                  to={Routes.USER}\r\n                  className=\"menu-item\"\r\n                >\r\n                  User\r\n                </Link>\r\n              }\r\n            </div>\r\n\r\n            {\r\n              isCurrentUserExists ?\r\n\r\n                <div className=\"menu-right\">\r\n                  <Link\r\n                    to={Routes.USER}\r\n                    className=\"menu-item\"\r\n                  >\r\n                    {currentUsername}\r\n                  </Link>\r\n                  <a\r\n                    href={Routes.LOGIN}\r\n                    className=\"menu-item\"\r\n                    onClick={this.logOut}\r\n                  >\r\n                    LogOut\r\n                  </a>\r\n                </div>\r\n\r\n                :\r\n\r\n                <div className=\"menu-right\">\r\n                  <Link\r\n                    to={Routes.LOGIN}\r\n                    className=\"menu-item\"\r\n                  >\r\n                    Login\r\n                  </Link>\r\n                  <Link\r\n                    to={Routes.REGISTER}\r\n                    className=\"menu-item\"\r\n                  >\r\n                    Sign Up\r\n                  </Link>\r\n                </div>\r\n            }\r\n          </nav>\r\n\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path={[Routes.ROOT, Routes.HOME]}\r\n              component={HomeComponent}\r\n            />\r\n            <Route\r\n              exact\r\n              path={Routes.LOGIN}\r\n              component={LoginComponent}\r\n            />\r\n            <Route\r\n              exact\r\n              path={Routes.REGISTER}\r\n              component={RegistrationComponent}\r\n            />\r\n            <Route\r\n              path={Routes.USER}\r\n              render={routerProps => (\r\n                <UserComponent\r\n                  history={[]}\r\n                  setUsername={this.setUsername}\r\n                  setRoles={this.setRoles}\r\n                />\r\n              )}\r\n            />\r\n           <Route\r\n              path={Routes.EMPLOYEE}\r\n              render={routerProps => (\r\n                <ListEmployeeComponent\r\n                  history={[]}\r\n                  employeeData={[]}\r\n                  \r\n                />\r\n              )}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}